<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zoubei.mapper.hotel.HotelMapper" >
  <resultMap id="BaseResultMap" type="com.zoubei.entity.hotel.Hotel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 15 14:55:18 CST 2018.
    -->
    <id column="hotel_id" property="hotelId" jdbcType="INTEGER" />
    <result column="hotel_hotelname" property="hotelHotelname" jdbcType="VARCHAR" />
    <result column="area_id" property="areaId" jdbcType="INTEGER" />
    <result column="hotel_adress" property="hotelAdress" jdbcType="VARCHAR" />
    <result column="level_id" property="levelId" jdbcType="INTEGER" />
    <result column="hotel_num" property="hotelNum" jdbcType="INTEGER" />
    <result column="hotel_message" property="hotelMessage" jdbcType="VARCHAR" />
    <result column="hotel_phone" property="hotelPhone" jdbcType="VARCHAR" />
    <result column="hotel_logo" property="hotelLogo" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 15 14:55:18 CST 2018.
    -->
    hotel_id, hotel_hotelname, area_id, hotel_adress, level_id, hotel_num, hotel_message, 
    hotel_phone, hotel_logo
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 15 14:55:18 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from tra_hotel
    where hotel_id = #{hotelId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 15 14:55:18 CST 2018.
    -->
    delete from tra_hotel
    where hotel_id = #{hotelId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.zoubei.entity.hotel.Hotel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 15 14:55:18 CST 2018.
    -->
    insert into tra_hotel (hotel_id, hotel_hotelname, area_id, 
      hotel_adress, level_id, hotel_num, 
      hotel_message, hotel_phone, hotel_logo
      )
    values (#{hotelId,jdbcType=INTEGER}, #{hotelHotelname,jdbcType=VARCHAR}, #{areaId,jdbcType=INTEGER}, 
      #{hotelAdress,jdbcType=VARCHAR}, #{levelId,jdbcType=INTEGER}, #{hotelNum,jdbcType=INTEGER}, 
      #{hotelMessage,jdbcType=VARCHAR}, #{hotelPhone,jdbcType=VARCHAR}, #{hotelLogo,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.zoubei.entity.hotel.Hotel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 15 14:55:18 CST 2018.
    -->
    insert into tra_hotel
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="hotelId != null" >
        hotel_id,
      </if>
      <if test="hotelHotelname != null" >
        hotel_hotelname,
      </if>
      <if test="areaId != null" >
        area_id,
      </if>
      <if test="hotelAdress != null" >
        hotel_adress,
      </if>
      <if test="levelId != null" >
        level_id,
      </if>
      <if test="hotelNum != null" >
        hotel_num,
      </if>
      <if test="hotelMessage != null" >
        hotel_message,
      </if>
      <if test="hotelPhone != null" >
        hotel_phone,
      </if>
      <if test="hotelLogo != null" >
        hotel_logo,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="hotelId != null" >
        #{hotelId,jdbcType=INTEGER},
      </if>
      <if test="hotelHotelname != null" >
        #{hotelHotelname,jdbcType=VARCHAR},
      </if>
      <if test="areaId != null" >
        #{areaId,jdbcType=INTEGER},
      </if>
      <if test="hotelAdress != null" >
        #{hotelAdress,jdbcType=VARCHAR},
      </if>
      <if test="levelId != null" >
        #{levelId,jdbcType=INTEGER},
      </if>
      <if test="hotelNum != null" >
        #{hotelNum,jdbcType=INTEGER},
      </if>
      <if test="hotelMessage != null" >
        #{hotelMessage,jdbcType=VARCHAR},
      </if>
      <if test="hotelPhone != null" >
        #{hotelPhone,jdbcType=VARCHAR},
      </if>
      <if test="hotelLogo != null" >
        #{hotelLogo,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.zoubei.entity.hotel.Hotel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 15 14:55:18 CST 2018.
    -->
    update tra_hotel
    <set >
      <if test="hotelHotelname != null" >
        hotel_hotelname = #{hotelHotelname,jdbcType=VARCHAR},
      </if>
      <if test="areaId != null" >
        area_id = #{areaId,jdbcType=INTEGER},
      </if>
      <if test="hotelAdress != null" >
        hotel_adress = #{hotelAdress,jdbcType=VARCHAR},
      </if>
      <if test="levelId != null" >
        level_id = #{levelId,jdbcType=INTEGER},
      </if>
      <if test="hotelNum != null" >
        hotel_num = #{hotelNum,jdbcType=INTEGER},
      </if>
      <if test="hotelMessage != null" >
        hotel_message = #{hotelMessage,jdbcType=VARCHAR},
      </if>
      <if test="hotelPhone != null" >
        hotel_phone = #{hotelPhone,jdbcType=VARCHAR},
      </if>
      <if test="hotelLogo != null" >
        hotel_logo = #{hotelLogo,jdbcType=VARCHAR},
      </if>
    </set>
    where hotel_id = #{hotelId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.zoubei.entity.hotel.Hotel" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 15 14:55:18 CST 2018.
    -->
    update tra_hotel
    set hotel_hotelname = #{hotelHotelname,jdbcType=VARCHAR},
      area_id = #{areaId,jdbcType=INTEGER},
      hotel_adress = #{hotelAdress,jdbcType=VARCHAR},
      level_id = #{levelId,jdbcType=INTEGER},
      hotel_num = #{hotelNum,jdbcType=INTEGER},
      hotel_message = #{hotelMessage,jdbcType=VARCHAR},
      hotel_phone = #{hotelPhone,jdbcType=VARCHAR},
      hotel_logo = #{hotelLogo,jdbcType=VARCHAR}
    where hotel_id = #{hotelId,jdbcType=INTEGER}
  </update>
  
  <!-- selectHotelBySceneAreaId -->
  <select id="selectHotelBySceneAreaId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  		select 
			hotel_id,
			hotel_hotelname,
			area_id,
			hotel_adress,
			level_id,
			hotel_num,
			hotel_message,
			hotel_phone,
			hotel_logo
		from tra_hotel where area_id=#{areaId} order by hotel_num desc limit 2
  </select>

  
  <!-- selectHotelBySceneId -->
  <select id="selectHotelBySceneId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  	SELECT <include refid="Base_Column_List" />
	from tra_hotel
	where area_id = 
	(select area_id 
	from tra_scene
	where scene_id = #{sceneId })
  </select>
  
  
  
  
  
  
  
  
  <!-- selectHotelList -->
  <select id="selectHotelList" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  	select 
		h.hotel_id,
		h.hotel_hotelname,
		h.area_id,
		h.hotel_adress,
		h.level_id,
		h.hotel_num,
		h.hotel_message,
		h.hotel_phone,
		h.hotel_logo
	from tra_area t left join tra_hotel h on t.area_pid=#{areaId} and t.area_id=h.area_id where h.hotel_id is not null 
  </select>
  
  <!-- insertHotelByReturnKey -->
  <insert id="insertHotelByReturnKey" parameterType="com.zoubei.entity.hotel.Hotel" useGeneratedKeys="true" keyProperty="hotelId">
  		insert into tra_hotel
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="hotelId != null" >
        hotel_id,
      </if>
      <if test="hotelHotelname != null" >
        hotel_hotelname,
      </if>
      <if test="areaId != null" >
        area_id,
      </if>
      <if test="hotelAdress != null" >
        hotel_adress,
      </if>
      <if test="levelId != null" >
        level_id,
      </if>
      <if test="hotelNum != null" >
        hotel_num,
      </if>
      <if test="hotelMessage != null" >
        hotel_message,
      </if>
      <if test="hotelPhone != null" >
        hotel_phone,
      </if>
      <if test="hotelLogo != null" >
        hotel_logo,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="hotelId != null" >
        #{hotelId,jdbcType=INTEGER},
      </if>
      <if test="hotelHotelname != null" >
        #{hotelHotelname,jdbcType=VARCHAR},
      </if>
      <if test="areaId != null" >
        #{areaId,jdbcType=INTEGER},
      </if>
      <if test="hotelAdress != null" >
        #{hotelAdress,jdbcType=VARCHAR},
      </if>
      <if test="levelId != null" >
        #{levelId,jdbcType=INTEGER},
      </if>
      <if test="hotelNum != null" >
        #{hotelNum,jdbcType=INTEGER},
      </if>
      <if test="hotelMessage != null" >
        #{hotelMessage,jdbcType=VARCHAR},
      </if>
      <if test="hotelPhone != null" >
        #{hotelPhone,jdbcType=VARCHAR},
      </if>
      <if test="hotelLogo != null" >
        #{hotelLogo,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  
  <!-- selectHotelEchoByHotelId -->
  <select id="selectHotelEchoByHotelId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  		select 
			hotel_id,
			hotel_hotelname,
			area_id,
			hotel_adress,
			level_id,
			hotel_num,
			hotel_message,
			hotel_phone,
			hotel_logo 
		from tra_hotel where hotel_id = #{hotelId}
  </select>
  
  <!-- selectHotelGroupList -->
  <select id="selectHotelGroupList" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  		select 
			h.hotel_id,
			h.hotel_hotelname,
			h.area_id,
			h.hotel_adress,
			h.level_id,
			h.hotel_num,
			h.hotel_message,
			h.hotel_phone,
			h.hotel_logo 
		from tra_hotel_group g ,tra_hotel_group_rel r ,tra_hotel h where r.hgp_id=g.hgp_id and r.hotel_id=h.hotel_id and g.hgp_id=#{hgpId,jdbcType=INTEGER}
  </select>
  
  <select id="selectHotelByAreaId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  	select 
			hotel_id,
			hotel_hotelname,
			area_id,
			hotel_adress,
			level_id,
			hotel_num,
			hotel_message,
			hotel_phone,
			hotel_logo
		from tra_hotel where area_id=#{areaId}
  </select>
  

</mapper>